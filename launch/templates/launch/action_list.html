{% extends "launch/base_dashboard.html" %}

{% load static %}

{% block page_title %}Actions{% endblock %}

{% block main %}

  <div class="row">
    <div class="col-xxl-8">
      <!-- start page title -->
      <div class="page-title-box">
        <div class="page-title-right">
          <form>
            <div class="input-group">
              <input type="text" class="form-control" placeholder="Search..."/>
              <button class="input-group-text btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown"
                      aria-haspopup="true" aria-expanded="false">
                <i class='uil uil-sort-amount-down'></i>
              </button>
              <div class="dropdown-menu dropdown-menu-end">
                <a class="dropdown-item" href="#">Due Date</a>
                <a class="dropdown-item" href="#">Added Date</a>
                <a class="dropdown-item" href="#">Assignee</a>
              </div>
            </div>
          </form>
        </div>
        <h4 class="page-title"><a href="{% url 'action_create' project.pk %}" class="btn btn-success btn-sm ms-3" up-layer="new">Add New</a></h4>
      </div>
      <!-- end page title -->

      <!-- tasks panel -->
      <div class="mt-2">
        <h5 class="m-0 pb-2">
          <a class="text-dark" data-bs-toggle="collapse" href="#todayTasks" role="button" aria-expanded="false" aria-controls="todayTasks">
            <i class='uil uil-angle-down font-18'></i>Today <span class="text-muted">({{ todays_actions|length }})</span>
          </a>
        </h5>

        <div class="collapse show" id="todayTasks">
          <div class="card mb-0">
            <div class="card-body">
              <!-- task -->
              {% for action in todays_actions %}
                {% include "launch/_action_item.html" with action=action %}
              {% endfor %}
            </div> <!-- end card-body-->
          </div> <!-- end card -->
        </div> <!-- end .collapse-->
      </div> <!-- end .mt-2-->

      <!-- upcoming tasks -->
      <div class="mt-4">

        <h5 class="m-0 pb-2">
          <a class="text-dark" data-bs-toggle="collapse" href="#upcomingTasks" role="button" aria-expanded="false" aria-controls="upcomingTasks">
            <i class='uil uil-angle-down font-18'></i>Upcoming <span class="text-muted">({{ upcoming_actions|length }})</span>
          </a>
        </h5>

        <div class="collapse show" id="upcomingTasks">
          <div class="card mb-0">
            <div class="card-body">
              <!-- task -->
              {% for action in upcoming_actions %}
                {% include "launch/_action_item.html" with action=action %}
              {% endfor %}
              <!-- end task -->


            </div> <!-- end card-body-->
          </div> <!-- end card -->
        </div> <!-- end collapse-->
      </div>
      <!-- end upcoming tasks -->

      <!-- start other tasks -->
      <div class="mt-4 mb-4">
        <h5 class="m-0 pb-2">
          <a class="text-dark" data-bs-toggle="collapse" href="#otherTasks" role="button" aria-expanded="false" aria-controls="otherTasks">
            <i class='uil uil-angle-down font-18'></i>Other <span class="text-muted">({{ other_actions|length }})</span>
          </a>
        </h5>

        <div class="collapse show" id="otherTasks">
          <div class="card mb-0">
            <div class="card-body">
              <!-- task -->
              {% for action in other_actions %}
                {% include "launch/_action_item.html" with action=action %}
              {% endfor %}
              <!-- end task -->
              <!-- end task -->
            </div> <!-- end card-body-->
          </div> <!-- end card -->
        </div>
      </div>
    </div> <!-- end col -->

    <!-- task details -->
  </div>
{% endblock %}